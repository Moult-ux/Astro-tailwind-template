---
import RightSideFeaturePoint from '../components/RightSideFeaturePoint.astro';
import {client} from '../lib/sanityClient.js';
import imageUrlBuilder from '@sanity/image-url';
import {toHTML} from '@portabletext/to-html';

const {templateBlock} = Astro.props;
console.log(templateBlock);

const builder = imageUrlBuilder(client);

function urlFor(source) {
  return builder.image(source);
}
---

<section class="relative py-24 bg-white" style="background-image: url('flex-ui-assets/elements/pattern-white.svg'); background-position: center;">
  <div class="md:absolute md:top-28 lg:top-1/2 md:-left-96 xl:-left-80 md:-ml-56 lg:-ml-20 xl:-ml-0 md:transform lg:-translate-y-1/2 px-4 mb-16 md:mb-0">
    <div class="relative max-w-max">
      <img class="absolute p-7 -mt-1 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-10/12 z-20" src={urlFor(templateBlock.image).width(731).url()} alt=""> 
      <img class="relative z-10" src="flex-ui-assets/elements/applications/macbook.png" alt="">
      <img class="absolute -top-24 left-0 md:mt-px md:left-96 md:ml-52 lg:ml-16 xl:-ml-20 w-28 md:w-auto text-blue-500" src="flex-ui-assets/elements/dots2-blue.svg">
      <img class="absolute -bottom-24 right-0 md:mt-px md:left-96 md:ml-52 lg:ml-16 xl:-ml-20 w-28 md:w-auto text-red-500" src="flex-ui-assets/elements/dots2-red.svg">
      <img class="absolute right-0 top-1/2 transform -translate-y-1/2 w-28 md:w-auto text-yellow-400" src="flex-ui-assets/elements/circle2-yellow.svg">
    </div>
  </div>
  <div class="container px-4 mx-auto">
    <div class="md:w-1/2 md:ml-auto pl-4" >
      <span class="inline-block py-px px-2 mb-4 text-xs leading-5 text-green-500 bg-green-100 font-medium rounded-full shadow-sm">Application</span>
      <h3 class="mb-6 text-4xl md:text-5xl leading-tight text-coolGray-900 font-bold tracking-tighter">{templateBlock.title}</h3>
       <div class="mb-12 text-lg md:text-xl text-coolGray-500 font-medium" set:html={toHTML(templateBlock.body)}></div>    
      
        
   {templateBlock.items.map((item) => <RightSideFeaturePoint title={item.title} body={item.body} />)}
      
    </div>
  </div>
</section>  